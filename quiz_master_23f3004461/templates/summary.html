<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summary</title>
    <link rel="stylesheet" href="/static/admin.css">
</head>
<body>
    <div class = "header">
        <a href="{{ url_for('admin') }}"><button>Home</button></a>
        <a href="{{ url_for('quiz') }}"><button>Quiz</button></a>
        <a href="{{ url_for('summary') }}"><button>Summary</button></a>
        <a href="{{ url_for('login') }}"><button>LogOut</button></a>


        <div class = "left-head">
            <form method="get" action="{{ url_for('summary') }}">
                <input type="search" name="query" placeholder="Search..." required>
                <button type="submit">Search</button>
            </form>
            <h4>Welcom Admin</h4>

        </div>

    </div>
    <div class="summary-content">
        {% if search_results.users or search_results.subjects or search_results.chapters or search_results.quizzes or search_results.questions %}
            <h3>Users</h3>
            <table>
                <tr><th>ID</th><th>Name</th><th>Email</th></tr>
                {% for user in search_results.users %}
                    <tr><td>{{ user.id }}</td><td>{{ user.full_name }}</td><td>{{ user.email }}</td></tr>
                {% endfor %}
            </table>
    
            <h3>Subjects</h3>
            <table>
                <tr><th>ID</th><th>Name</th><th>Description</th></tr>
                {% for subject in search_results.subjects %}
                    <tr><td>{{ subject.subject_id }}</td><td>{{ subject.subject_name }}</td><td>{{ subject.subject_discription }}</td></tr>
                {% endfor %}
            </table>
    
            <h3>Chapters</h3>
            <table>
                <tr><th>ID</th><th>Name</th><th>Description</th></tr>
                {% for chapter in search_results.chapters %}
                    <tr><td>{{ chapter.chapter_id }}</td><td>{{ chapter.chapter_name }}</td><td>{{ chapter.chapter_discription }}</td></tr>
                {% endfor %}
            </table>
    
            <h3>Quizzes</h3>
            <table>
                <tr><th>ID</th><th>Name</th><th>Date</th></tr>
                {% for quiz in search_results.quizzes %}
                    <tr><td>{{ quiz.quiz_id }}</td><td>{{ quiz.quiz_name }}</td><td>{{ quiz.date_of_quiz }}</td></tr>
                {% endfor %}
            </table>
    
            <h3>Questions</h3>
            <table>
                <tr><th>ID</th><th>Statement</th><th>Marks</th></tr>
                {% for question in search_results.questions %}
                    <tr><td>{{ question.question_id }}</td><td>{{ question.question_statement }}</td><td>{{ question.marks }}</td></tr>
                {% endfor %}
            </table>
        {% else %}
            <p>No results found for "{{ request.args.get('search', '') }}".</p>
        {% endif %}
    </div>
    
    
</body>
</html>
